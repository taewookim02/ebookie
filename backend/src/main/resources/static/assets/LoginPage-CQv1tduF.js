import{_ as b,r as t,u as k,a as h,o as d,c as p,b as e,d as i,t as w,e as m,w as V,f as x,g as L,h as T,i as A}from"./index-CViMo7yw.js";/* empty css                                                                         */import{A as c}from"./AuthInputField-DCklKrtB.js";/* empty css                                                                     */const B={key:0,class:"loading"},N={key:1,class:"auth"},S={class:"auth__err"},q={class:"auth__link"},C={__name:"LoginPage",setup(E){const o=t(""),l=t(""),u=t(""),_=k(),n=t(!1),v=t(!1),g=h(),f=async()=>{try{n.value=!0;const a=await T.post("/api/v1/auth/login",{email:o.value,password:l.value});g.success("로그인 성공!"),_.setAccessToken(a.data.accessToken),A.push("/")}catch(a){console.log(a),v.value=!0,u.value=a.response.data.message}finally{n.value=!1}};return(a,s)=>{const y=L("RouterLink");return n.value?(d(),p("div",B,s[2]||(s[2]=[e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1)]))):(d(),p("section",N,[e("form",{onSubmit:x(f,["prevent"]),class:"auth__form"},[s[5]||(s[5]=e("h1",{class:"auth__heading"},"로그인",-1)),i(c,{type:"email",id:"email",name:"email",label:"이메일",modelValue:o.value,"onUpdate:modelValue":s[0]||(s[0]=r=>o.value=r),required:!0},null,8,["modelValue"]),i(c,{type:"password",id:"password",name:"password",label:"비밀번호",modelValue:l.value,"onUpdate:modelValue":s[1]||(s[1]=r=>l.value=r),required:!0},null,8,["modelValue"]),s[6]||(s[6]=e("button",{type:"submit",class:"auth__btn btn btn-primary btn-lg"},"로그인",-1)),e("span",S,w(u.value),1),e("div",q,[e("span",null,[s[4]||(s[4]=m("회원이 아니신가요? ")),i(y,{to:"/register",class:"auth__link--item"},{default:V(()=>s[3]||(s[3]=[m("회원가입")])),_:1})])])],32)]))}}},U=b(C,[["__scopeId","data-v-9e5a36c3"]]);export{U as default};
