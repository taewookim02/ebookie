import{O as Y}from"./OrderPricesSection-B8jNt_nk.js";import{A as x}from"./ActionButton-Djd-R_q9.js";import{a as z,f as J}from"./format-D8BanFEv.js";import{g as F}from"./imgPath-CG_qeXUq.js";import{_ as h,o as a,c as r,a as A,F as G,y as N,A as L,t as d,s as Z,B as W,r as m,k as g,p as j,q as M,b as S,w as H,C as K,z as X,g as O,d as q}from"./index-BQLI52zX.js";var _;let f=null;const U={jsSdkUrl:(_=void 0)!==null&&_!==void 0?_:"https://cdn.portone.io/v2/browser-sdk.js"};function $(){return document.querySelector(`script[src="${U.jsSdkUrl}"]`)}function AA(){const o=document.createElement("script");o.src=U.jsSdkUrl;const t=document.head||document.body;if(!t)throw new Error("[PortOne] Expected document.body not to be null");return t.appendChild(o)}function I(){return f??(f=new Promise((o,t)=>{if(window.PortOne)return o(window.PortOne);try{const s=$()||AA();s.addEventListener("load",()=>{if(window.PortOne)return o(window.PortOne);t(new Error("[PortOne] Failed to load window.PortOne"))}),s.addEventListener("error",()=>{t(new Error("[PortOne] Failed to load window.PortOne"))})}catch(s){return t(s)}}))}function eA(o){return I().then(t=>t.requestIdentityVerification(o))}function tA(o){return I().then(t=>t.requestIssueBillingKeyAndPay(o))}function oA(o){return I().then(t=>t.requestIssueBillingKey(o))}function nA(o){return I().then(t=>t.requestPayment(o))}function sA(o,t){return I().then(s=>s.loadPaymentUI(o,t))}function aA(o,t){return I().then(s=>s.loadIssueBillingKeyUI(o,t))}function rA(o){return I().then(t=>t.updateLoadPaymentUIRequest(o))}function iA(o){return I().then(t=>t.updateLoadIssueBillingKeyUIRequest(o))}const cA={HTML5_INICIS:"PG_PROVIDER_HTML5_INICIS",PAYPAL:"PG_PROVIDER_PAYPAL",INICIS:"PG_PROVIDER_INICIS",DANAL:"PG_PROVIDER_DANAL",NICE:"PG_PROVIDER_NICE",DANAL_TPAY:"PG_PROVIDER_DANAL_TPAY",UPLUS:"PG_PROVIDER_UPLUS",NAVERPAY:"PG_PROVIDER_NAVERPAY",SETTLE:"PG_PROVIDER_SETTLE",KCP:"PG_PROVIDER_KCP",MOBILIANS:"PG_PROVIDER_MOBILIANS",KAKAOPAY:"PG_PROVIDER_KAKAOPAY",NAVERCO:"PG_PROVIDER_NAVERCO",KICC:"PG_PROVIDER_KICC",EXIMBAY:"PG_PROVIDER_EXIMBAY",SMILEPAY:"PG_PROVIDER_SMILEPAY",PAYCO:"PG_PROVIDER_PAYCO",KCP_BILLING:"PG_PROVIDER_KCP_BILLING",ALIPAY:"PG_PROVIDER_ALIPAY",CHAI:"PG_PROVIDER_CHAI",BLUEWALNUT:"PG_PROVIDER_BLUEWALNUT",SMARTRO:"PG_PROVIDER_SMARTRO",PAYMENTWALL:"PG_PROVIDER_PAYMENTWALL",TOSSPAYMENTS:"PG_PROVIDER_TOSSPAYMENTS",KCP_QUICK:"PG_PROVIDER_KCP_QUICK",DAOU:"PG_PROVIDER_DAOU",GALAXIA:"PG_PROVIDER_GALAXIA",TOSSPAY:"PG_PROVIDER_TOSSPAY",KCP_DIRECT:"PG_PROVIDER_KCP_DIRECT",SETTLE_ACC:"PG_PROVIDER_SETTLE_ACC",SETTLE_FIRM:"PG_PROVIDER_SETTLE_FIRM",INICIS_UNIFIED:"PG_PROVIDER_INICIS_UNIFIED",KSNET:"PG_PROVIDER_KSNET",PAYPAL_V2:"PG_PROVIDER_PAYPAL_V2",SMARTRO_V2:"PG_PROVIDER_SMARTRO_V2",NICE_V2:"PG_PROVIDER_NICE_V2",TOSS_BRANDPAY:"PG_PROVIDER_TOSS_BRANDPAY",WELCOME:"PG_PROVIDER_WELCOME",TOSSPAY_V2:"PG_PROVIDER_TOSSPAY_V2",INICIS_V2:"PG_PROVIDER_INICIS_V2",KPN:"PG_PROVIDER_KPN",KCP_V2:"PG_PROVIDER_KCP_V2",HYPHEN:"PG_PROVIDER_HYPHEN",EXIMBAY_V2:"PG_PROVIDER_EXIMBAY_V2"};Object.entries(cA).reduce((o,[t,s])=>Object.assign(Object.assign({},o),{[s]:t}),{});const PA={requestIdentityVerification:eA,requestIssueBillingKeyAndPay:tA,requestIssueBillingKey:oA,requestPayment:nA,loadPaymentUI:sA,loadIssueBillingKeyUI:aA,updateLoadPaymentUIRequest:rA,updateLoadIssueBillingKeyUIRequest:iA},lA="data:image/gif;base64,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",uA="data:image/gif;base64,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",IA="data:image/gif;base64,R0lGODlhMwAUAPcAAP7T0/21tfxgYPoVFf/5+f2RkfyEhP/8/P/t7f/29v/7+/7ExPxeXvsxMfxwcPxsbP2YmPxqav7U1PtCQv2OjvoaGvtJSfsuLv/9/fxra/tVVfszM/xlZftERPtSUvojI/syMvoiIvs+Pvs0NP7f3//4+PtKSv/6+vtRUf7l5f2qqv/19f7e3v/09P66uvx7e/xhYftTU//+/v7Gxv/y8vxnZ/7j4/7Dw/x1df2ZmfstLfx2dv2Njfx+fv68vP2zs/s2Nv7n5/7i4v7V1f7Fxf7h4fyDg/2bm/s6Ov2np/omJvohIfoYGPtYWPtaWv/u7vyGhvswMPoeHvokJPs7O/x/f/yIiP7b2/7AwPxdXfxfX/7d3fxiYv2Tk/2iov6/v//p6ftFRf2Xl/oXF/orK/7JyfxubvtMTPogIPtGRvtWVvxkZPocHPyHh/7IyP/x8f2trf7Pz/7Cwv/r6//q6v2UlP/o6P2Li/24uP/z8/tUVPs1Nfs4OP2MjPx4ePxzc/7a2volJf/v7/s9PfoZGf7c3P7Y2Px9ffyCgv2ysvxcXPxbW/7Ozv2oqPtAQP7R0ftPT/oqKvonJ/oUFP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4zLWMwMTEgNjYuMTQ1NjYxLCAyMDEyLzAyLzA2LTE0OjU2OjI3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowNjg5MDE5QTVDRDUxMUU1QTAxQ0M2MDE1MjAzNkM4NCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowNjg5MDE5QjVDRDUxMUU1QTAxQ0M2MDE1MjAzNkM4NCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA2ODkwMTk4NUNENTExRTVBMDFDQzYwMTUyMDM2Qzg0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjA2ODkwMTk5NUNENTExRTVBMDFDQzYwMTUyMDM2Qzg0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEAAAAAAAsAAAAADMAFAAACP8AKQkcSLCgwYMIEypcyLChw4cQI4p5QNHBHQAFsQg4MhBCGwIESxiAMFCCAS4CDt0oeOOFAA4USAycRLPmJAMD84SguYDSFZo9CO6gOYeAA5s0m4CkgwLpGAMHKNFMk0UNG5pfBEKouYgSASCTBvSk5IOmBQw1aKJhoGUJTUMtBtHUsUZDBaBSJwUQCGjAJByUMDSYNCJsIUqP7kahgSDSpA9F5NDsgEAgDQMUZFih6QAkJRYgwgKguVfglEkcKP2gKUHJpB0Cc9DMIIBmIkoZwrI4eGHSBgUE3dB8QZpSggI0+1AyMSkGJUSTpAiiJMOJTcCUJkxCcvAJTT8GJU3n0oOU5gc7cYoL8VtAIAIdNEWUEEhlkqODYGhWMdjbQ3kLElCSVnkXAEdJIzQRMRADkxBSWUEY7DRBQVvQ9AdNPCwwQwoCpcBEeTTBIVAANGEkkAo0wRDViV0cYAZNdQyUgH+TLFAcQUZMUkEZAPQIwB6ThDFiiQMp0EF8PFDA3CQz2BAITSgUAMUGNAmQlwsFhZZBQbJNYgMlLtA0BEFBaIeUBS1QwggZ5SmSACURMLBCQQVAIhNBCQgQQVQrMBDBCQWd4EUMDYygQRIGUvJGAWc0wAcMeEQk6aSUVmrppZhmqummEAUEADs=",EA={class:"order__payment"},dA={class:"payment__method"},DA={class:"payment__method--list"},RA=["onClick"],CA=["src","alt"],mA={key:1},gA={class:"payment__info"},BA={class:"payment__info--price"},yA={__name:"OrderPaymentSection",props:{totalFinalPrice:Number,pgMethod:String},emits:["update:pgMethod"],setup(o,{emit:t}){const s=[{id:"kakao",name:"Kakao",icon:uA},{id:"toss",name:"Toss",icon:lA},{id:"payco",name:"Payco",icon:IA}],i=t,B=D=>{i("update:pgMethod",D)};return(D,u)=>(a(),r("section",EA,[u[1]||(u[1]=A("h3",null,"결제방법",-1)),A("div",dA,[A("div",DA,[(a(),r(G,null,N(s,l=>A("div",{class:L(["payment__method--list-item",{selected:o.pgMethod===l.id}]),key:l.id,onClick:R=>B(l.id)},[l.icon?(a(),r("img",{key:0,src:l.icon,alt:l.name},null,8,CA)):(a(),r("span",mA,d(l.name),1))],10,RA)),64))])]),A("div",gA,[u[0]||(u[0]=A("div",{class:"payment__info--text"},"최종 결제금액",-1)),A("div",BA,d(o.totalFinalPrice.toLocaleString())+"원",1)])]))}},wA=h(yA,[["__scopeId","data-v-c2f55337"]]),vA={key:0,class:"loading"},pA={key:1,class:"error"},MA={key:2,class:"order"},SA={class:"order__info"},OA={class:"table order__info--table"},_A=["src"],fA={class:"text-center align-middle"},GA={class:"text-center align-middle"},hA={class:"text-center align-middle"},NA={class:"text-center align-middle"},LA={class:"payment__action"},UA={key:1,class:"order__status"},QA={key:0},kA={key:1},TA={key:2},bA={key:3},VA={__name:"OrderDetailPage",setup(o){const t=K(),s=X(),i=Z(),B=W(),D=t.params.id,u=m([]),l=m("toss"),R=m({status:"PENDING"}),E=m("PENDING"),y=m(!0),w=m(!1),Q=async c=>{var e,n;try{y.value=!0,w.value=!1;const P=await O.get(`/api/v1/orders/${c}`);if(!P.data)throw new Error("주문을 찾을 수 없습니다.");if(!P.data.orderStatus)throw new Error("Server response missing orderStatus");u.value=P.data.orderDetailDtos,E.value=P.data.orderStatus}catch(P){console.error("Order detail fetch error:",P),w.value=!0,((e=P.response)==null?void 0:e.status)===403?(i.error("접근 권한이 없는 주문입니다."),s.push("/orders")):((n=P.response)==null?void 0:n.status)===404?(i.error("존재하지 않는 주문입니다."),s.push("/orders")):i.error("주문 정보 로드에 실패했습니다!")}finally{y.value=!1}},k=g(()=>u.value.reduce((c,e)=>c+e.originalPrice,0)),T=g(()=>u.value.reduce((c,e)=>{const n=e.originalPrice*e.discountRatePercentage/100;return c+n},0)),C=g(()=>u.value.reduce((c,e)=>{const n=e.originalPrice-e.originalPrice*e.discountRatePercentage/100;return c+n},0)),v=g(()=>{switch(l.value){case"kakao":return"channel-key-bdb9666b-9eba-4cc3-bc3e-cca13a1ff2f9";default:return"channel-key-bdb9666b-9eba-4cc3-bc3e-cca13a1ff2f9"}}),b=()=>[...crypto.getRandomValues(new Uint32Array(2))].map(c=>c.toString(16).padStart(8,"0")).join(""),V=async()=>{var c;if(!(!confirm("구매 하시겠습니까?")||C.value<=0))try{const e=b();if(!D){i.error("주문 정보가 올바르지 않습니다.");return}if(console.log("Payment Config:",{storeId:"store-40493184-ea60-455e-93b1-94dc0b39f87f",channelKey:v.value,amount:C.value}),!(await O.post("/api/v1/payments",{paymentId:e,orderId:D,paidPrice:C.value,paymentStatus:"PENDING"})).data){i.error("결제 생성에 실패했습니다. 다시 시도해주세요.");return}console.log("store-40493184-ea60-455e-93b1-94dc0b39f87f"),console.log(v.value),R.value={status:"PENDING"};const P=await PA.requestPayment({storeId:"store-40493184-ea60-455e-93b1-94dc0b39f87f",channelKey:v.value,paymentId:e,orderName:"ebookie 상품구매",totalAmount:C.value,currency:"KRW",payMethod:"EASY_PAY",productType:"PRODUCT_TYPE_DIGITAL",isCulturalExpense:!0,customer:{email:B.getMemberEmail},customData:{item:e}});if(P.code!==void 0||!P.paymentId){R.value={status:"FAILED"},i.error(`결제에 실패했습니다: ${P.message||"알 수 없는 오류"}`);return}const p=await O.post("/api/v1/payments/complete",{paymentId:P.paymentId});if(!p.data.orderStatus)throw new Error("Server response missing orderStatus");switch(R.value.status=p.data.paymentStatus,E.value=p.data.orderStatus,R.value.status){case"PAID":i.success("결제가 완료되었습니다!"),s.push("/library");break;case"FAILED":i.error("결제 처리 중 오류가 발생했습니다.");break;case"CANCELLED":i.info("결제가 취소되었습니다.");break;default:i.warning("알 수 없는 결제 상태입니다.")}}catch(e){console.error("Payment creation error:",e),R.value={status:"FAILED"},((c=e.response)==null?void 0:c.status)===409?i.error("이미 처리 중인 결제가 있습니다. 잠시 후 다시 시도해주세요."):i.error("결제 처리 중 오류가 발생했습니다. 다시 시도해주세요.");return}};return j(()=>{Q(D)}),(c,e)=>y.value?(a(),r("div",vA," 로딩중... ")):w.value?(a(),r("div",pA," 주문 정보를 불러올 수 없습니다. ")):(a(),r("div",MA,[A("section",SA,[e[4]||(e[4]=A("h3",null,"주문/결제",-1)),A("table",OA,[e[2]||(e[2]=A("colgroup",null,[A("col",{width:"10%"}),A("col",{width:"45%"}),A("col",{width:"10%"}),A("col",{width:"5%"}),A("col",{width:"10%"}),A("col",{width:"10%"}),A("col",{width:"10%"})],-1)),e[3]||(e[3]=A("thead",{class:"text-center"},[A("tr",null,[A("th",{colspan:"2"},"상품명"),A("th",null,"정가"),A("th",null,"수량"),A("th",null,"할인금액"),A("th",null,"합계"),A("th",null,"배송일")])],-1)),A("tbody",null,[(a(!0),r(G,null,N(u.value,n=>(a(),r("tr",null,[A("td",null,[A("img",{src:M(F)(n.thumbnail),alt:"상품 이미지"},null,8,_A)]),A("td",null,d(n.name),1),A("td",fA,d(n.originalPrice.toLocaleString())+"원 ",1),A("td",GA,d(n.quantity),1),A("td",hA,d(M(z)(n.originalPrice,n.discountRatePercentage))+"원 ",1),A("td",NA,d(M(J)(n.originalPrice,n.discountRatePercentage))+"원 ",1),e[1]||(e[1]=A("td",{class:"text-center align-middle"}," 무배송 (결제 후 다운로드) ",-1))]))),256))])])]),S(Y,{"total-original-price":k.value,"total-discount-amount":T.value,"total-final-price":C.value},null,8,["total-original-price","total-discount-amount","total-final-price"]),E.value==="PENDING"?(a(),r(G,{key:0},[S(wA,{"total-final-price":C.value,"pg-method":l.value,"onUpdate:pgMethod":e[0]||(e[0]=n=>l.value=n)},null,8,["total-final-price","pg-method"]),A("div",LA,[S(x,{class:"w-100 payment__action--button",onAction:V},{default:H(()=>e[5]||(e[5]=[q("결제하기")])),_:1})])],64)):(a(),r("section",UA,[e[6]||(e[6]=A("h3",null,"주문 상태",-1)),A("div",{class:L(["status-message",E.value.toLowerCase()])},[E.value==="PAID"?(a(),r("p",QA,"결제가 완료된 주문입니다.")):E.value==="CANCELLED"?(a(),r("p",kA,"취소된 주문입니다.")):E.value==="REFUNDED"?(a(),r("p",TA,"환불된 주문입니다.")):(a(),r("p",bA,"알 수 없는 주문 상태입니다."))],2)]))]))}},ZA=h(VA,[["__scopeId","data-v-15b59dc0"]]);export{ZA as default};
