import{_ as f,r as d,i as g,j as V,g as c,o as p,c as v,a as l,e as _,b as i,t as y,k as P,h}from"./index-CqPCV8uB.js";import{A as m}from"./AuthInputField-CJXG5fIf.js";const x={class:"container py-5"},U={class:"settings"},k={class:"card shadow-sm"},q={class:"card-body p-4"},A={key:0,class:"alert alert-danger mt-3",role:"alert"},B={__name:"EditProfilePage",setup(C){const o=d(""),t=d(""),r=d(""),n=d(""),u=d(""),w=g(),b=()=>{if(console.log(o,t,r,n),t.value!==r.value){u.value="새 비밀번호와 새 비밀번호 확인이 다릅니다.";return}c.patch("/api/v1/members/update",{email:o.value,newPassword:t.value,newPasswordConfirm:r.value,currentPassword:n.value}).then(s=>{console.log(s),w.success("회원정보가 성공적으로 수정되었습니다."),h.push("/")}).catch(s=>{console.log("err:",s),u.value=s.response.data.message})};return V(()=>{c.get("/api/v1/members/detail").then(s=>{o.value=s.data.email}).catch(s=>{console.log(s)})}),(s,e)=>(p(),v("div",x,[l("section",U,[l("div",k,[l("div",q,[l("form",{onSubmit:_(b,["prevent"]),class:"settings__form"},[e[4]||(e[4]=l("h2",{class:"text-center mb-4"},"회원 정보 수정",-1)),i(m,{type:"email",id:"email",name:"email",label:"이메일",valueText:"hello",readonly:!0,modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value=a),class:"mb-3"},null,8,["modelValue"]),i(m,{type:"password",id:"password",name:"password",label:"새로운 비밀번호",required:!0,modelValue:t.value,"onUpdate:modelValue":e[1]||(e[1]=a=>t.value=a),class:"mb-3"},null,8,["modelValue"]),i(m,{type:"password",id:"confirm-password",name:"confirm-password",label:"새로운 비밀번호 확인",required:!0,modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=a=>r.value=a),class:"mb-3"},null,8,["modelValue"]),i(m,{type:"password",id:"current-password",name:"current-password",label:"현재 비밀번호",required:!0,modelValue:n.value,"onUpdate:modelValue":e[3]||(e[3]=a=>n.value=a),class:"mb-4"},null,8,["modelValue"]),e[5]||(e[5]=l("div",{class:"d-grid"},[l("button",{type:"submit",class:"btn btn-primary btn-lg"},"수정하기")],-1)),u.value?(p(),v("div",A,y(u.value),1)):P("",!0)],32)])])])]))}},N=f(B,[["__scopeId","data-v-acff90ba"]]);export{N as default};
