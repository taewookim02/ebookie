import{O as J}from"./OrderPricesSection-Bik3JYc7.js";import{A as _}from"./ActionButton-vFkJGG1S.js";import{a as F,f as Z}from"./format-B6-WTpBz.js";import{_ as U,o as r,c as a,a as t,F as f,n as Q,E as k,t as E,i as W,G as j,r as C,s as g,j as H,b as y,w as L,p,q as K,H as X,x as q,g as O,d as h}from"./index-DElOj2gU.js";/* empty css                                                                     */var G;let N=null;const T={jsSdkUrl:(G=void 0)!==null&&G!==void 0?G:"https://cdn.portone.io/v2/browser-sdk.js"};function $(){return document.querySelector(`script[src="${T.jsSdkUrl}"]`)}function AA(){const n=document.createElement("script");n.src=T.jsSdkUrl;const e=document.head||document.body;if(!e)throw new Error("[PortOne] Expected document.body not to be null");return e.appendChild(n)}function d(){return N??(N=new Promise((n,e)=>{if(window.PortOne)return n(window.PortOne);try{const s=$()||AA();s.addEventListener("load",()=>{if(window.PortOne)return n(window.PortOne);e(new Error("[PortOne] Failed to load window.PortOne"))}),s.addEventListener("error",()=>{e(new Error("[PortOne] Failed to load window.PortOne"))})}catch(s){return e(s)}}))}function tA(n){return d().then(e=>e.requestIdentityVerification(n))}function eA(n){return d().then(e=>e.requestIssueBillingKeyAndPay(n))}function nA(n){return d().then(e=>e.requestIssueBillingKey(n))}function oA(n){return d().then(e=>e.requestPayment(n))}function sA(n,e){return d().then(s=>s.loadPaymentUI(n,e))}function rA(n,e){return d().then(s=>s.loadIssueBillingKeyUI(n,e))}function aA(n){return d().then(e=>e.updateLoadPaymentUIRequest(n))}function iA(n){return d().then(e=>e.updateLoadIssueBillingKeyUIRequest(n))}const lA={HTML5_INICIS:"PG_PROVIDER_HTML5_INICIS",PAYPAL:"PG_PROVIDER_PAYPAL",INICIS:"PG_PROVIDER_INICIS",DANAL:"PG_PROVIDER_DANAL",NICE:"PG_PROVIDER_NICE",DANAL_TPAY:"PG_PROVIDER_DANAL_TPAY",UPLUS:"PG_PROVIDER_UPLUS",NAVERPAY:"PG_PROVIDER_NAVERPAY",SETTLE:"PG_PROVIDER_SETTLE",KCP:"PG_PROVIDER_KCP",MOBILIANS:"PG_PROVIDER_MOBILIANS",KAKAOPAY:"PG_PROVIDER_KAKAOPAY",NAVERCO:"PG_PROVIDER_NAVERCO",KICC:"PG_PROVIDER_KICC",EXIMBAY:"PG_PROVIDER_EXIMBAY",SMILEPAY:"PG_PROVIDER_SMILEPAY",PAYCO:"PG_PROVIDER_PAYCO",KCP_BILLING:"PG_PROVIDER_KCP_BILLING",ALIPAY:"PG_PROVIDER_ALIPAY",CHAI:"PG_PROVIDER_CHAI",BLUEWALNUT:"PG_PROVIDER_BLUEWALNUT",SMARTRO:"PG_PROVIDER_SMARTRO",PAYMENTWALL:"PG_PROVIDER_PAYMENTWALL",TOSSPAYMENTS:"PG_PROVIDER_TOSSPAYMENTS",KCP_QUICK:"PG_PROVIDER_KCP_QUICK",DAOU:"PG_PROVIDER_DAOU",GALAXIA:"PG_PROVIDER_GALAXIA",TOSSPAY:"PG_PROVIDER_TOSSPAY",KCP_DIRECT:"PG_PROVIDER_KCP_DIRECT",SETTLE_ACC:"PG_PROVIDER_SETTLE_ACC",SETTLE_FIRM:"PG_PROVIDER_SETTLE_FIRM",INICIS_UNIFIED:"PG_PROVIDER_INICIS_UNIFIED",KSNET:"PG_PROVIDER_KSNET",PAYPAL_V2:"PG_PROVIDER_PAYPAL_V2",SMARTRO_V2:"PG_PROVIDER_SMARTRO_V2",NICE_V2:"PG_PROVIDER_NICE_V2",TOSS_BRANDPAY:"PG_PROVIDER_TOSS_BRANDPAY",WELCOME:"PG_PROVIDER_WELCOME",TOSSPAY_V2:"PG_PROVIDER_TOSSPAY_V2",INICIS_V2:"PG_PROVIDER_INICIS_V2",KPN:"PG_PROVIDER_KPN",KCP_V2:"PG_PROVIDER_KCP_V2",HYPHEN:"PG_PROVIDER_HYPHEN",EXIMBAY_V2:"PG_PROVIDER_EXIMBAY_V2"};Object.entries(lA).reduce((n,[e,s])=>Object.assign(Object.assign({},n),{[s]:e}),{});const PA={requestIdentityVerification:tA,requestIssueBillingKeyAndPay:eA,requestIssueBillingKey:nA,requestPayment:oA,loadPaymentUI:sA,loadIssueBillingKeyUI:rA,updateLoadPaymentUIRequest:aA,updateLoadIssueBillingKeyUIRequest:iA},cA="data:image/gif;base64,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",uA="data:image/gif;base64,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",dA="data:image/gif;base64,R0lGODlhMwAUAPcAAP7T0/21tfxgYPoVFf/5+f2RkfyEhP/8/P/t7f/29v/7+/7ExPxeXvsxMfxwcPxsbP2YmPxqav7U1PtCQv2OjvoaGvtJSfsuLv/9/fxra/tVVfszM/xlZftERPtSUvojI/syMvoiIvs+Pvs0NP7f3//4+PtKSv/6+vtRUf7l5f2qqv/19f7e3v/09P66uvx7e/xhYftTU//+/v7Gxv/y8vxnZ/7j4/7Dw/x1df2ZmfstLfx2dv2Njfx+fv68vP2zs/s2Nv7n5/7i4v7V1f7Fxf7h4fyDg/2bm/s6Ov2np/omJvohIfoYGPtYWPtaWv/u7vyGhvswMPoeHvokJPs7O/x/f/yIiP7b2/7AwPxdXfxfX/7d3fxiYv2Tk/2iov6/v//p6ftFRf2Xl/oXF/orK/7JyfxubvtMTPogIPtGRvtWVvxkZPocHPyHh/7IyP/x8f2trf7Pz/7Cwv/r6//q6v2UlP/o6P2Li/24uP/z8/tUVPs1Nfs4OP2MjPx4ePxzc/7a2volJf/v7/s9PfoZGf7c3P7Y2Px9ffyCgv2ysvxcXPxbW/7Ozv2oqPtAQP7R0ftPT/oqKvonJ/oUFP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS4zLWMwMTEgNjYuMTQ1NjYxLCAyMDEyLzAyLzA2LTE0OjU2OjI3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowNjg5MDE5QTVDRDUxMUU1QTAxQ0M2MDE1MjAzNkM4NCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowNjg5MDE5QjVDRDUxMUU1QTAxQ0M2MDE1MjAzNkM4NCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjA2ODkwMTk4NUNENTExRTVBMDFDQzYwMTUyMDM2Qzg0IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjA2ODkwMTk5NUNENTExRTVBMDFDQzYwMTUyMDM2Qzg0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEAAAAAAAsAAAAADMAFAAACP8AKQkcSLCgwYMIEypcyLChw4cQI4p5QNHBHQAFsQg4MhBCGwIESxiAMFCCAS4CDt0oeOOFAA4USAycRLPmJAMD84SguYDSFZo9CO6gOYeAA5s0m4CkgwLpGAMHKNFMk0UNG5pfBEKouYgSASCTBvSk5IOmBQw1aKJhoGUJTUMtBtHUsUZDBaBSJwUQCGjAJByUMDSYNCJsIUqP7kahgSDSpA9F5NDsgEAgDQMUZFih6QAkJRYgwgKguVfglEkcKP2gKUHJpB0Cc9DMIIBmIkoZwrI4eGHSBgUE3dB8QZpSggI0+1AyMSkGJUSTpAiiJMOJTcCUJkxCcvAJTT8GJU3n0oOU5gc7cYoL8VtAIAIdNEWUEEhlkqODYGhWMdjbQ3kLElCSVnkXAEdJIzQRMRADkxBSWUEY7DRBQVvQ9AdNPCwwQwoCpcBEeTTBIVAANGEkkAo0wRDViV0cYAZNdQyUgH+TLFAcQUZMUkEZAPQIwB6ThDFiiQMp0EF8PFDA3CQz2BAITSgUAMUGNAmQlwsFhZZBQbJNYgMlLtA0BEFBaIeUBS1QwggZ5SmSACURMLBCQQVAIhNBCQgQQVQrMBDBCQWd4EUMDYygQRIGUvJGAWc0wAcMeEQk6aSUVmrppZhmqummEAUEADs=",IA={class:"order__payment"},EA={class:"payment__method"},DA={class:"payment__method--list"},RA=["onClick"],mA=["src","alt"],CA={key:1},gA={class:"payment__info"},yA={class:"payment__info--price"},pA={__name:"OrderPaymentSection",props:{totalFinalPrice:Number,pgMethod:String},emits:["update:pgMethod"],setup(n,{emit:e}){const s=[{id:"kakao",name:"Kakao",icon:uA},{id:"toss",name:"Toss",icon:cA},{id:"payco",name:"Payco",icon:dA}],i=e,v=D=>{i("update:pgMethod",D)};return(D,c)=>(r(),a("section",IA,[c[1]||(c[1]=t("h3",null,"결제방법",-1)),t("div",EA,[t("div",DA,[(r(),a(f,null,Q(s,u=>t("div",{class:k(["payment__method--list-item",{selected:n.pgMethod===u.id}]),key:u.id,onClick:R=>v(u.id)},[u.icon?(r(),a("img",{key:0,src:u.icon,alt:u.name},null,8,mA)):(r(),a("span",CA,E(u.name),1))],10,RA)),64))])]),t("div",gA,[c[0]||(c[0]=t("div",{class:"payment__info--text"},"최종 결제금액",-1)),t("div",yA,E(n.totalFinalPrice.toLocaleString())+"원",1)])]))}},vA=U(pA,[["__scopeId","data-v-7a1632f8"]]),BA={key:0,class:"loading"},wA={key:1,class:"empty-state"},MA={key:2,class:"empty-state"},SA={key:3,class:"order"},OA={class:"order__info"},GA={class:"table order__info--table"},NA=["src"],fA={class:"text-center align-middle"},_A={class:"text-center align-middle"},LA={class:"text-center align-middle"},hA={class:"text-center align-middle"},UA={class:"payment__action"},QA={key:1,class:"order__status"},kA={key:0},TA={key:1},VA={key:2},xA={key:3},YA={__name:"OrderDetailPage",setup(n){const e=X(),s=q(),i=W(),v=j(),D=e.params.id,c=C([]),u=C("kakao"),R=C({status:"PENDING"}),I=C("PENDING"),B=C(!0),w=C(!1),V=async l=>{var A,o;try{B.value=!0,w.value=!1;const P=await O.get(`/api/v1/orders/${l}`);if(!P.data)throw new Error("주문을 찾을 수 없습니다.");if(!P.data.orderStatus)throw new Error("Server response missing orderStatus");c.value=P.data.orderDetailDtos,I.value=P.data.orderStatus}catch(P){console.error("Order detail fetch error:",P),w.value=!0,((A=P.response)==null?void 0:A.status)===403?(i.error("접근 권한이 없는 주문입니다."),s.push("/orders")):((o=P.response)==null?void 0:o.status)===404?(i.error("존재하지 않는 주문입니다."),s.push("/orders")):i.error("주문 정보 로드에 실패했습니다!")}finally{B.value=!1}},x=g(()=>c.value.reduce((l,A)=>l+A.originalPrice,0)),Y=g(()=>c.value.reduce((l,A)=>{const o=A.originalPrice*A.discountRatePercentage/100;return l+o},0)),m=g(()=>c.value.reduce((l,A)=>{const o=A.originalPrice-A.originalPrice*A.discountRatePercentage/100;return l+o},0)),M=g(()=>{switch(u.value){case"kakao":return;default:return}}),b=()=>[...crypto.getRandomValues(new Uint32Array(2))].map(l=>l.toString(16).padStart(8,"0")).join(""),z=async()=>{var l;if(!(!confirm("구매 하시겠습니까?")||m.value<=0))try{const A=b();if(!D){i.error("주문 정보가 올바르지 않습니다.");return}if(console.log("Payment Config:",{storeId:void 0,channelKey:M.value,amount:m.value}),!(await O.post("/api/v1/payments",{paymentId:A,orderId:D,paidPrice:m.value,paymentStatus:"PENDING"})).data){i.error("결제 생성에 실패했습니다. 다시 시도해주세요.");return}console.log(void 0),console.log(M.value),R.value={status:"PENDING"};const P=await PA.requestPayment({storeId:void 0,channelKey:M.value,paymentId:A,orderName:"ebookie 상품구매",totalAmount:m.value,currency:"KRW",payMethod:"EASY_PAY",productType:"PRODUCT_TYPE_DIGITAL",isCulturalExpense:!0,customer:{email:v.getMemberEmail},customData:{item:A}});if(P.code!==void 0||!P.paymentId){R.value={status:"FAILED"},i.error(`결제에 실패했습니다: ${P.message||"알 수 없는 오류"}`);return}const S=await O.post("/api/v1/payments/complete",{paymentId:P.paymentId});if(!S.data.orderStatus)throw new Error("Server response missing orderStatus");switch(R.value.status=S.data.paymentStatus,I.value=S.data.orderStatus,R.value.status){case"PAID":i.success("결제가 완료되었습니다!"),s.push("/library");break;case"FAILED":i.error("결제 처리 중 오류가 발생했습니다.");break;case"CANCELLED":i.info("결제가 취소되었습니다.");break;default:i.warning("알 수 없는 결제 상태입니다.")}}catch(A){console.error("Payment creation error:",A),R.value={status:"FAILED"},((l=A.response)==null?void 0:l.status)===409?i.error("이미 처리 중인 결제가 있습니다. 잠시 후 다시 시도해주세요."):i.error("결제 처리 중 오류가 발생했습니다. 다시 시도해주세요.");return}};return H(()=>{V(D)}),(l,A)=>B.value?(r(),a("div",BA,A[2]||(A[2]=[t("div",{class:"spinner-border text-primary",role:"status"},[t("span",{class:"visually-hidden"},"Loading...")],-1)]))):w.value?(r(),a("div",wA,A[3]||(A[3]=[t("i",{class:"bi bi-exclamation-circle",style:{"font-size":"4rem"}},null,-1),t("h3",{class:"mt-4"},"주문 정보를 불러올 수 없습니다",-1),t("p",{class:"text-muted"},"잠시 후 다시 시도해주세요.",-1)]))):c.value.length?(r(),a("div",SA,[t("section",OA,[A[11]||(A[11]=t("h3",null,"주문/결제",-1)),t("table",GA,[A[9]||(A[9]=t("colgroup",null,[t("col",{width:"10%"}),t("col",{width:"45%"}),t("col",{width:"10%"}),t("col",{width:"5%"}),t("col",{width:"10%"}),t("col",{width:"10%"}),t("col",{width:"10%"})],-1)),A[10]||(A[10]=t("thead",{class:"text-center"},[t("tr",null,[t("th",{colspan:"2"},"상품명"),t("th",null,"정가"),t("th",null,"수량"),t("th",null,"할인금액"),t("th",null,"합계"),t("th",null,"배송일")])],-1)),t("tbody",null,[(r(!0),a(f,null,Q(c.value,o=>(r(),a("tr",null,[t("td",null,[t("img",{src:p(K)(o.thumbnail),alt:"상품 이미지"},null,8,NA)]),t("td",null,E(o.name),1),t("td",fA,E(o.originalPrice.toLocaleString())+"원 ",1),t("td",_A,E(o.quantity),1),t("td",LA,E(p(F)(o.originalPrice,o.discountRatePercentage))+"원 ",1),t("td",hA,E(p(Z)(o.originalPrice,o.discountRatePercentage))+"원 ",1),A[8]||(A[8]=t("td",{class:"text-center align-middle"}," 무배송 (결제 후 다운로드) ",-1))]))),256))])])]),y(J,{"total-original-price":x.value,"total-discount-amount":Y.value,"total-final-price":m.value},null,8,["total-original-price","total-discount-amount","total-final-price"]),I.value==="PENDING"?(r(),a(f,{key:0},[y(vA,{"total-final-price":m.value,"pg-method":u.value,"onUpdate:pgMethod":A[1]||(A[1]=o=>u.value=o)},null,8,["total-final-price","pg-method"]),t("div",UA,[y(_,{class:"w-100 payment__action--button",onAction:z},{default:L(()=>A[12]||(A[12]=[h("결제하기")])),_:1})])],64)):(r(),a("section",QA,[A[13]||(A[13]=t("h3",null,"주문 상태",-1)),t("div",{class:k(["status-message",I.value.toLowerCase()])},[I.value==="PAID"?(r(),a("p",kA,"결제가 완료된 주문입니다.")):I.value==="CANCELLED"?(r(),a("p",TA,"취소된 주문입니다.")):I.value==="REFUNDED"?(r(),a("p",VA,"환불된 주문입니다.")):(r(),a("p",xA,"알 수 없는 주문 상태입니다."))],2)]))])):(r(),a("div",MA,[A[5]||(A[5]=t("i",{class:"bi bi-cart",style:{"font-size":"4rem"}},null,-1)),A[6]||(A[6]=t("h3",{class:"mt-4"},"주문 내역이 없습니다",-1)),A[7]||(A[7]=t("p",{class:"text-muted"},"주문하신 상품이 없습니다.",-1)),y(_,{class:"mt-3",onAction:A[0]||(A[0]=o=>p(s).push("/products"))},{default:L(()=>A[4]||(A[4]=[h("상품 보러가기")])),_:1})]))}},WA=U(YA,[["__scopeId","data-v-8ac657a0"]]);export{WA as default};
