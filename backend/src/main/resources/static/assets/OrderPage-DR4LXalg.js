import{_ as C,r as i,j as y,o as s,c as o,b as t,l as E,C as k,F as g,n as p,t as n,d as N,w as S,D as L,k as x,h as w,g as A,E as I}from"./index-B3n5MBAw.js";import{P as O}from"./Pagination-CnAuxjmf.js";const B={class:"page-controls d-flex justify-content-end"},F=["value"],R={key:0,class:"order-empty text-muted"},V={key:1},z={class:"order-header"},U={class:"order-content"},$={class:"order-products"},j={__name:"OrderPage",setup(G){const c=i({orders:[],totalPages:0,totalElements:0,currentPage:0}),l=i(0),u=i(10),_=[5,10,20,50],d=async(r=0)=>{try{const a=await w.get(`/api/v1/orders?page=${r}&size=${u.value}`);c.value=a.data,l.value=a.data.currentPage}catch(a){console.log("fetchOrders() err:",a)}},h=r=>{d(r-1)},m=()=>{l.value=0,d(0)},P=r=>{switch(r){case"PENDING":return"결제대기";case"PAID":return"결제완료";case"CANCELLED":return"주문취소";case"REFUNDED":return"환불완료";default:return""}},f=r=>{switch(r){case"PENDING":return"#ff4444";case"PAID":return"#00C851";case"CANCELLED":return"#ff8800";case"REFUNDED":return"#666666";default:return"#000000"}};return y(()=>{d()}),(r,a)=>{const D=A("RouterLink");return s(),o("div",null,[a[1]||(a[1]=t("h1",{class:"text-center"},"주문 목록",-1)),t("div",B,[E(t("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e),onChange:m},[(s(),o(g,null,p(_,e=>t("option",{key:e,value:e},n(e)+"개씩 보기 ",9,F)),64))],544),[[k,u.value]])]),c.value.orders.length===0?(s(),o("div",R," 주문 내역이 없습니다. ")):(s(),o("div",V,[(s(!0),o(g,null,p(c.value.orders,e=>(s(),o("div",{key:e.id,class:"order-item"},[N(D,{to:`/orders/${e.id}`},{default:S(()=>[t("div",z,[t("span",null,"주문번호: "+n(e.id),1),t("span",null,"주문일: "+n(new Date(e.createdAt).toLocaleDateString()),1)]),t("div",U,[t("span",null,"총 금액: "+n(e.totalPrice.toLocaleString())+"원",1),t("span",{class:"order-status",style:I({color:f(e.orderStatus)})}," 상태: "+n(P(e.orderStatus)),5)]),t("div",$,[(s(!0),o(g,null,p(e.products,v=>(s(),o("div",{key:v.productId},n(v.productName),1))),128))])]),_:2},1032,["to"])]))),128)),c.value.totalPages>1?(s(),L(O,{key:0,"current-page":l.value+1,"total-pages":c.value.totalPages,onPageChange:h},null,8,["current-page","total-pages"])):x("",!0)]))])}}},K=C(j,[["__scopeId","data-v-277c3fc5"]]);export{K as default};
